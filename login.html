<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Merchant Login</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body { font-family: Arial; background:#f5f7fb; padding:40px; }
.card { max-width:420px; margin:auto; background:#fff; padding:24px; border-radius:14px; }
input { width:100%; padding:12px; margin-top:10px; }
button { width:100%; padding:14px; margin-top:16px; background:black; color:white; border:none; }
</style>

</head>
<body>

<div class="card">
<h2>Merchant Login</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<div id="msg"></div>
</div>

<script>

const supabase = window.supabase.createClient(
  "https://wyzwjfaiggymxfjkrfuq.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5endqZmFpZ2d5bXhmamtyZnVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyMDc2MTIsImV4cCI6MjA4NTc4MzYxMn0.oPzAaijIIKls2fUYqPk3cvkegSPN8Iu9h8xnnZkg1JE"
);

async function login() {

  document.getElementById("msg").innerText = "Signing in...";

  const { error } = await supabase.auth.signInWithPassword({
    email: document.getElementById("email").value.trim(),
    password: document.getElementById("password").value
  });

  if (error) {
    document.getElementById("msg").innerText = error.message;
    return;
  }

  window.location.href = "./index.html";
}

</script>

</body>
</html>
