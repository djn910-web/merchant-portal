<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merchant Login</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body { font-family: Arial; background:#f5f7fb; padding:40px; }
.card { max-width:420px; margin:auto; background:#fff; padding:24px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.08); }
input { width:100%; padding:12px; margin-top:10px; border-radius:8px; border:1px solid #ddd; }
button { width:100%; padding:14px; margin-top:16px; border:none; border-radius:10px; background:#000; color:#fff; font-weight:bold; cursor:pointer; }
.msg { margin-top:12px; font-size:14px; }
</style>
</head>
<body>

<div class="card">
  <h2>Merchant Login</h2>
  <input id="email" placeholder="Email" />
  <input id="password" type="password" placeholder="Password" />
  <button id="loginBtn">Login</button>
  <div id="msg" class="msg"></div>
</div>

<script>
const SUPABASE_URL = "https://wyzwjfaiggymxfjkrfuq.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5endqZmFpZ2d5bXhmamtyZnVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyMDc2MTIsImV4cCI6MjA4NTc4MzYxMn0.oPzAaijIIKls2fUYqPk3cvkegSPN8Iu9h8xnnZkg1JE
"; // <-- put same anon key you used

const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

const msg = document.getElementById('msg');

document.getElementById('loginBtn').addEventListener('click', async () => {
  msg.textContent = "Signing in...";
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  const { error } = await supabaseClient.auth.signInWithPassword({ email, password });

  if (error) {
    msg.textContent = error.message;
    return;
  }

  // Redirect to portal after login
  window.location.href = "./index.html";
});
</script>

</body>
</html>
